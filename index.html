<!DOCTYPE html>
<html>
<meta charset="utf-8">
<link href='//fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="node_modules/codemirror/theme/twilight.css">
<style>
* {
  box-sizing: border-box;
}
body {
  margin: 0;
  font-family: Arial, sans-serif;
  width: 1024px;
  margin-left: auto;
  margin-right: auto;
}
h1 {
  font-size: 4em;
  font-family: 'Roboto', sans-serif;
}
body > section {
  padding-top: 1em;
  padding-bottom: 1em;
}
.session-title h3 {
  display: inline;
}

ul {
  list-style: none;

}

a.h1 {
  font-size: 24px;
  font-weight: bold;
}
a.h2 {
  font-size: 24px;
  padding-left: 10px;
}
a.h3 {
  font-size: 18px;
  padding-left: 20px;
}


iframe {
  border: none;
  width: 1024px;
}
</style>
<script src="scripts/d3.v3.js"></script>
<script src="node_modules/codemirror/lib/codemirror.js"></script>
<script src="node_modules/codemirror/mode/javascript/javascript.js"></script>
<script src="node_modules/codemirror/mode/xml/xml.js"></script>
<body>
  <h1>Introduction à D3</h1>
  <p>Ce site est un tutoriel d'introduciton à la bibliothèque de fonctions <a href="http://www.d3js.org">D3</a>, qui permet de réaliser des représentation graphiques vectorielles interactives dans une page web.
  </p>
  <section>
    <h3>Cette page est interactive !</h3>
    <p>
      Les sections en noir de cette page sont des éditeurs de texte interactifs, leur interprétation est proposée sur la partie droite. Vous pouvez donc modifier le code HTML/SVG/JS/CSS et voir le résultat immédiatement !
    </p>
    <p>
      Un "bac à sable" interactif de plus grande taille est aussi disponible sur la page suivante: <a href="html-playground.html">fullscreen html playground here.</a>
    </p>
  </section>
  <section class="toplevel">
    <span class="session-title">
      <h1>Session 1</h1> - Les bases
    </span>
    <section class="level2">
      <h2>Présentation rapide des éléments de base du web interactif</h2>
    <section class="level2">
      <h2>Le Document Object Model (DOM)</h2>
      <iframe style="height:600px" src="html-playground.html#hello-dom"></iframe>
    </section>

    <section class="level2">
      
      <h2>SVG</h2>

      <section>
        <p>
          <h4>&lt;rect&gt; Rectangle</h4>
          MDN documentation: 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect">
            &lt;rect&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-rect"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;circle&gt; Circle</h4>
          MDN documentation: 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle">
            &lt;circle&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-circle"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;path&gt; Path</h4>
          MDN documentation: 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path">
            &lt;path&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-path"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;text&gt; Text</h4>
          MDN documentation: 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text">
            &lt;text&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-text"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;g&gt; Groups and transforms (translate, rotate, scale)</h4>
          MDN documentation: 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g">
            &lt;g&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-g"></iframe>
        <p>
          <h4> Nested &lt;g&gt; Groups</h4>
        </p>
        <iframe style="height:320px" src="html-playground.html#hello-svg-g-recursve"></iframe>
      </section>

      <h3>SVG Styles</h3>

      <section>
        <p>
          <h4>Fill</h4>
        </p>
        <iframe style="height:140px" src="html-playground.html#svg-styles-fill"></iframe>
      </section>

      <section>
        <p>
          <h4>Stroke</h4>
        </p>
        <iframe style="height:140px" src="html-playground.html#svg-styles-stroke"></iframe>
      </section>

      <section>
        <p>
          <h4>Getting fancy</h4>
        </p>
        <iframe style="height:140px" src="html-playground.html#svg-styles"></iframe>
      </section>

      <section>
        <p>
          <h4>A more complicated example</h4>
        </p>
        <iframe style="height:600px" src="html-playground.html#hello-svg"></iframe>
      </section>
    </section>

    <section class="level2">
      <h2>JavaScript</h2>

      <section>
        <h3>With D3</h3>
        <p>
          JavaScript lets us change the DOM tree we created with SVG.
        </p>
        <iframe style="height:600px" src="html-playground.html#hello-javascript"></iframe>
      </section>

      <section>
        <h3>Chainable APIs</h3>
        <p>
          Two examples in pseudo code of a non-chainable and chainable API 
        </p>
        <iframe style="height:600px" src="html-playground.html#chainable-api"></iframe>
      </section>

      <section>
        <h3>selector.style()</h3>
        <p>
          We can now change SVG styles programmably
        </p>
        <iframe style="height:250px" src="html-playground.html#selector-style"></iframe>
      </section>

      <section>
        <h3>selector.attr()</h3>
        <p>
          Same for SVG attributes
        </p>
        <iframe style="height:250px" src="html-playground.html#selector-attr"></iframe>
      </section>

      <section>
        <h3>accessors</h3>
        <iframe style="height:300px" src="html-playground.html#selector-accessors"></iframe>
      </section>

      <section>
        <h3>JavaScript functions refresher</h3>
        <iframe style="height:300px" src="html-playground.html#javascript-functions-as-objects"></iframe>
      </section>

      <section>
        <h3>Creating SVGs from scratch in JavaScript</h3>
        <iframe style="height:600px" src="estuary.html#svg-from-javascript"></iframe>
      </section>

      <section>
        <h3>selector.enter()</h3>
        <p>
          A new way of adding elements.
        </p>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Selections#enter">selector.enter()</a>
        </p>
        <iframe style="height:600px" src="estuary.html#selector-enter"></iframe>
      </section>

      <section>
        <h3>Breaking down selector.enter()</h3>
        <iframe style="height:600px" src="estuary.html#selector-enter-break-down"></iframe>

      </section>

      <section>
        <h3>Transitions</h3>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Transitions">transitions</a>
        </p>
        <iframe style="height:600px" src="estuary.html#transitions-intro"></iframe>
      </section>

      <section>
        <h3>Chaining transitions</h3>
        <iframe style="height:600px" src="estuary.html#transitions-chaining"></iframe>
      </section>

      <section>
        <h2>data binding and transitions</h2>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Arrays#d3_range">d3.range()</a>
        </p>
        <iframe style="height:600px" src="estuary.html#data-binding-and-transitions"></iframe>
      </section>
    </section>
  </section>

  <section>
    <h2>Playground</h2>
    <iframe style="height:600px" src="estuary.html#playground-init"></iframe>
  </section>
  <script>

d3.selectAll('.code-mirror').each(function() {
  var dim = [this.clientWidth, this.clientHeight]
  var js = d3.select(this).classed('js')
  var cm = CodeMirror.fromTextArea(this, {
    tabSize: 2,
    mode: js ? 'javascript' : 'htmlmixed',
    lineNumbers: true,
    // theme: 'twilight',
    lineWrapping: true,
    readOnly: true,
  })
  cm.setSize.apply(cm, dim)
})

// add anchor links
function anchorify(text) {
  return text.replace(/ /, '-').toLowerCase()
}

var toc = []
var sections = d3.selectAll(".toplevel").each(function() {
  console.log("dis", this)
  var dis = d3.select(this);
  dis.selectAll("h1")
  .attr("id", function(d) { 
    console.log("this", this)
    var id = anchorify(this.innerText)
    toc.push({type: "h1", id: id, text: this.innerText})
    return id
  })
  /*
  dis.selectAll("h2")
    .attr("id", function(d) { 
      var id = anchorify(this.innerText)
      toc.push({type: "h2", id: id, text: this.innerText})
      return id
    })
  dis
  .selectAll("h3")
    .attr("id", function(d) { 
      var id = anchorify(this.innerText)
      toc.push({type: "h3", id: id, text: this.innerText})
      return id
    })
*/
  dis.selectAll("section.level2").each(function() {
    var dis2 = d3.select(this)
    dis2.selectAll("h2")
    .attr("id", function(d) { 
      var id = anchorify(this.innerText)
      toc.push({type: "h2", id: id, text: this.innerText})
      return id
    })
    dis2.selectAll("h3")
    .attr("id", function(d) { 
      var id = anchorify(this.innerText)
      toc.push({type: "h3", id: id, text: this.innerText})
      return id
    })
  })
})
  </script>
</body>
</html>