<!DOCTYPE html>
<html>
<meta charset="utf-8">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="node_modules/codemirror/theme/twilight.css">
<link rel="stylesheet" href="style.css">
<script src="scripts/d3.v3.js"></script>
<script src="node_modules/codemirror/lib/codemirror.js"></script>
<script src="node_modules/codemirror/mode/javascript/javascript.js"></script>
<script src="node_modules/codemirror/mode/xml/xml.js"></script>
<body>
  <h1>Introduction à D3</h1>
  <p>Laurent Jégou, <a href="http:///sigma.univ-toulouse.fr">Master 2 Sigma - UT2J-ENSAT</a></p><br>
  <p>Ce site est un tutoriel d'introduciton à la bibliothèque de fonctions <a href="http://www.d3js.org">D3</a>, qui permet de réaliser des représentation graphiques vectorielles interactives dans une page web.
  </p>
  <p>Inspiré du workshop interactif de <a href="https://github.com/vicapow/d3-1-day-workshop">Victor Powell</a>
  <section>
    <h3>Cette page est interactive !</h3>
    <p>
      Les sections en noir de cette page sont des éditeurs de texte interactifs, leur interprétation est proposée sur la partie droite. Vous pouvez donc modifier le code HTML/SVG/JS/CSS et voir le résultat immédiatement !
    </p>
    <p>
      Un <a href="html-playground.html">bac à sable" interactif"</a> de plus grande taille est aussi disponible.
    </p>
  </section>
  <section class="toplevel">
    <span class="session-title">
      <h2>Session 1 - Les bases - </h2>
    </span>
    <section class="level2">
      <h3>Le Document Object Model (DOM)</h3>
      <iframe style="height:600px" src="html-playground.html#hello-dom"></iframe>
    </section>
    <section class="level2">
      <h2>Le format SVG : des images vectorielles</h2>

      <section>
        <p>
          <h4>&lt;rect&gt; Rectangle</h4>
          Documentation MDN : 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect">
            &lt;rect&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-rect"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;circle&gt; Cercle</h4>
          Documentation MDN : 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle">
            &lt;circle&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-circle"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;path&gt; Chemin (ligne brisée)</h4>
          Documentation MDN : 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path">
            &lt;path&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-path"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;text&gt; Texte</h4>
          Documentation MDN : 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text">
            &lt;text&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-text"></iframe>
      </section>

      <section>
        <p>
          <h4>&lt;g&gt; Groupes and transformations (translation, rotation, échelle)</h4>
          Documentation MDN : 
          <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g">
            &lt;g&gt;
          </a>
        </p>
        <iframe style="height:140px" src="html-playground.html#hello-svg-g"></iframe>
        <p>
          <h4> Groupes &lt;g&gt; imbriqués</h4>
        </p>
        <iframe style="height:320px" src="html-playground.html#hello-svg-g-recursve"></iframe>
      </section>

      <h3>Styles SVG</h3>

      <section>
        <p>
          <h4>Fill - Remplissage</h4>
        </p>
        <iframe style="height:140px" src="html-playground.html#svg-styles-fill"></iframe>
      </section>

      <section>
        <p>
          <h4>Stroke - Contour</h4>
        </p>
        <iframe style="height:140px" src="html-playground.html#svg-styles-stroke"></iframe>
      </section>

      <section>
        <p>
          <h4>Un exemple plus complexe</h4>
        </p>
        <iframe style="height:600px" src="html-playground.html#hello-svg"></iframe>
      </section>
    </section>

    <section class="level2">
      <h2>Dynamisation avec JavaScript : la bibliothèque D3</h2>

      <section>
        <h3>Modifier le DOM avec D3</h3>
        <p>
          D3 permet de modifier un arbre DOM créé en SVG.
        </p>
        <iframe style="height:600px" src="html-playground.html#hello-javascript"></iframe>
      </section>

      <section>
        <h3>selector.style()</h3>
        <p>
          Nous pouvons maintenant changer les styles SVG par la programmation.
        </p>
        <iframe style="height:250px" src="html-playground.html#selector-style"></iframe>
      </section>

      <section>
        <h3>selector.attr()</h3>
        <p>
          Idem avec les attributs SVG
        </p>
        <iframe style="height:250px" src="html-playground.html#selector-attr"></iframe>
      </section>

      <section>
        <h3>accessors</h3>
		<p>
			Les paramètres peuvent être définis par une fonction plutôt que par une constante.
		</p>
        <iframe style="height:300px" src="html-playground.html#selector-accessors"></iframe>
      </section>

      <section>
        <h3>Rappels sur les fonctions JavaScript</h3>
        <iframe style="height:300px" src="html-playground.html#javascript-functions-as-objects"></iframe>
      </section>

      <section>
        <h3>Créer des images SVGs à partir de zéro en JavaScript avec D3</h3>
        <iframe style="height:600px" src="estuary.html#svg-from-javascript"></iframe>
      </section>

      <section>
        <h3>selector.enter()</h3>
        <p>
          Une nouvelle méthode pour ajouter des éléments.
        </p>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Selections#enter">selector.enter()</a>
        </p>
        <iframe style="height:600px" src="estuary.html#selector-enter"></iframe>
      </section>

      <section>
        <h3>Décomposition de selector.enter()</h3>
        <iframe style="height:600px" src="estuary.html#selector-enter-break-down"></iframe>
      </section>

      <section>
        <h3>Transitions : animer les images vectorielles</h3>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Transitions">transitions</a>
        </p>
        <iframe style="height:600px" src="estuary.html#transitions-intro"></iframe>
      </section>

      <section>
        <h3>Enchaîner les transitions</h3>
        <iframe style="height:600px" src="estuary.html#transitions-chaining"></iframe>
      </section>

      <section>
        <h2>Liaisons de données et transitions</h2>
        <p>
          Documentation: <a target="_blank" href="https://github.com/mbostock/d3/wiki/Arrays#d3_range">d3.range()</a>
        </p>
        <iframe style="height:600px" src="estuary.html#data-binding-and-transitions"></iframe>
      </section>
    </section>
	<br>
    <span class="session-title">
      <h2>Session 2 - Un peu d'infographie - </h2>
    </span>
    <section class="level2">
      <h3>Un histogramme simple</h3>
	  <p>Les données sont dans une structure de données JSON</p>
      <iframe style="height:600px" src="estuary.html#histo1"></iframe>
    </section>
    <section class="level2">
      <h3>Ajoutons des libellés et un peu de souplesse</h3>
	  <p></p>
      <iframe style="height:600px" src="estuary.html#histo2"></iframe>
    </section>
    <section class="level2">
      <h3>Un diagramme de points XY</h3>
	  <p></p>
      <iframe style="height:600px" src="estuary.html#pts1"></iframe>
    </section>
    <section class="level2">
      <h3>On ajoute des axes automatiques</h3>
	  <p></p>
      <iframe style="height:600px" src="html-playground.html#pts2"></iframe>
    </section>
  </section>
  <br>
  <span class="session-title">
      <h2>Session 3 - Un peu de cartographie - </h2>
    </span>
    <section class="level2">
      <h3>Projeter et afficher un fond de carte</h3>
	  <p>Les données cartographiques proviennent d'un fichier JSON distant.</p>
      <iframe style="height:600px" src="html-playground.html#carto1"></iframe>
    </section>
</section>

<script>
d3.selectAll('.code-mirror').each(function() {
  var dim = [this.clientWidth, this.clientHeight]
  var js = d3.select(this).classed('js')
  var cm = CodeMirror.fromTextArea(this, {
    tabSize: 2,
    mode: js ? 'javascript' : 'htmlmixed',
    lineNumbers: true,
    // theme: 'twilight',
    lineWrapping: true,
    readOnly: true,
  })
  cm.setSize.apply(cm, dim)
})

// add anchor links
function anchorify(text) {
  return text.replace(/ /, '-').toLowerCase()
}
</script>
</body>
</html>